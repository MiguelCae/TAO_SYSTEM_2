{% extends 'base/base_workflow.html' %}

{% block desk %}


<!-- Cards reports -->
<div>
    <div class="row">
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Estatus de  las mascotas </h5>
                    <p class="card-text">Aquí se muestran los datos de ocupación y estados de las mascotas en la fundación.</p>

                    <div>
                        <canvas id="line_chart" data-url="{% url 'line_chart' %}"></canvas>
                    </div>
                    <br>
                    {{labels | safe }}
                    <h4>Mascotas en adopción {{ json | safe}}</h4>
                    <h4>Mascotas en custodia {{ json2 | safe}}</h4>
                    <h4>Mascotas en Tratamiento {{ json3| safe}}</h4>
                    <h4>Mascotas  Adoptadas {{ json4 | safe}}</h4>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Special title treatment</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Special title treatment</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                    <div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Special title treatment {{ data | safe}}</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <a href="#" class="btn btn-primary"></a>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<script>
    
    $(function () {

var $line_chart = $("#line_chart");
$.ajax({
  url: $line_chart.data("url"),
  success: function (data) {

    var ctx = $line_chart[0].getContext("2d");

    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: data.labels,
        datasets: [{
          label: 'Population',
          backgroundColor: 'blue',
          data: data.data
        }]          
      },
      options: {
        responsive: true,
        legend: {
          position: 'top',
        },
        title: {
          display: true,
          text: 'Population Bar Chart'
        }
      }
    });

  }
});

});
</script>

{% endblock %}